# 리액트에서 버블링 단계에서 이벤트 처리를 하는 이유

버블링 단계에서 이벤트를 처리하는 데는 몇 가지 중요한 이유가 있습니다:

1. **이벤트 위임의 동작 방식**
```javascript
// 예시:
<div>
  <button>클릭</button>
</div>
```
- 캡처링에서 처리하면: div -> button 순서로 이벤트가 전파됨
- 버블링에서 처리하면: button -> div 순서로 이벤트가 전파됨
- 이벤트 위임은 보통 하위 요소의 이벤트를 상위에서 처리하는 것이 목적이므로, 하위 요소에서 상위로 전파되는 버블링이 더 자연스러움

2. **stopPropagation의 예측 가능성**
```javascript
button.addEventListener('click', e => {
  e.stopPropagation();
});
```
- 캡처링에서 처리하면: 위임된 이벤트가 먼저 실행되고, 실제 요소의 이벤트는 나중에 실행됨
- 버블링에서 처리하면: 실제 요소의 이벤트가 먼저 실행되고, 위임된 이벤트는 나중에 실행됨
- 버블링을 사용하면 stopPropagation 호출 시 동작이 더 예측 가능함

3. **일반적인 DOM 이벤트 패턴**
```javascript
// 대부분의 DOM 이벤트 핸들러는 버블링을 사용
element.addEventListener('click', handler); // 기본값이 버블링
```
- 대부분의 DOM 이벤트 처리가 버블링을 기본으로 사용
- 개발자들에게 더 친숙하고 예측 가능한 동작 방식

4. **성능상의 이점**
```javascript
parent.addEventListener('click', e => {
  if (e.target.matches('button')) {
    // 처리
  }
});
```
- 버블링에서는 실제 타겟에서 시작해 위로 전파되므로, 불필요한 요소 체크를 줄일 수 있음
- 캡처링에서는 모든 하위 요소를 체크해야 할 수 있음

이러한 이유들로 인해 리액트를 포함한 대부분의 프레임워크들이 기본적으로 버블링 단계에서 이벤트를 처리합니다.
