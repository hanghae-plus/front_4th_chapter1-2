# DOM 이벤트 객체와 스프레드 연산자

## 문제 상황
DOM 이벤트 객체를 스프레드 연산자로 복사할 때 프로퍼티가 누락되는 현상이 발생할 수 있습니다.

```typescript
// 이벤트 합성 시도
const syntheticEvent = {
  ...nativeEvent,
  // 기타 프로퍼티
};
```

## 원인
1. **얕은 복사의 한계**
    - 스프레드 연산자는 열거 가능한(enumerable) 프로퍼티만 복사
    - DOM 객체의 프로토타입 체인에 있는 프로퍼티들은 복사되지 않음

2. **실제 동작 예시**
```javascript
// 원본 Event 객체
console.log(nativeEvent.target); 
// => <a href="/some-path">...</a>

// 스프레드 후 합성 이벤트
console.log({...nativeEvent}.target); 
// => EventTarget {...} (href 속성 없음)
```

## 해결 방법
프로퍼티를 직접 할당하여 문제 해결:

```typescript
return {
  ...nativeEvent,
  nativeEvent,
  target: nativeEvent.target,     // 직접 할당
  currentTarget: nativeEvent.currentTarget,
  // 기타 프로퍼티
} as SyntheticEvent;
```

## 교훈
1. DOM API 관련 객체를 다룰 때는 스프레드 연산자만으로는 충분하지 않을 수 있음
2. 중요한 프로퍼티는 직접 할당하는 것이 안전
3. 객체의 프로토타입 체인을 고려한 설계가 필요

## 참고
- [MDN - Spread Operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax)
- [MDN - Event Interface](https://developer.mozilla.org/en-US/docs/Web/API/Event)
